<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Simple Typewriter Test</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .rotating-text {
      background: linear-gradient(
        45deg,
        #1e40af,    /* blue-800 */
        #7c3aed,    /* violet-600 */
        #dc2626,    /* red-600 */
        #f59e0b,    /* amber-500 */
        #eab308,    /* yellow-500 */
        #8b5cf6,    /* violet-500 */
        #3b82f6,    /* blue-500 */
        #059669,    /* emerald-600 */
        #dc2626,    /* red-600 */
        #f59e0b     /* amber-500 */
      );
      background-size: 400% 400%;
      animation: enhanced-gradient 8s ease-in-out infinite;
      min-height: 1.2em;
      display: inline-block;
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      position: relative;
    }

    @keyframes enhanced-gradient {
      0% { background-position: 0% 50%; }
      25% { background-position: 100% 50%; }
      50% { background-position: 50% 100%; }
      75% { background-position: 100% 0%; }
      100% { background-position: 0% 50%; }
    }
  </style>
</head>
<body class="bg-gray-50">
  <section class="relative min-h-screen flex items-center justify-center">
    <div class="text-center max-w-5xl mx-auto">
      <h1 class="text-3xl sm:text-5xl md:text-6xl lg:text-7xl font-bold mb-6 sm:mb-8">
        <span class="block text-gray-900 mb-3 sm:mb-4">Building the</span>
        <span class="block rotating-text px-2 sm:px-0" id="rotating-text">
          Operating System
        </span>
        <span class="block text-gray-900">for a More Intelligent Society</span>
      </h1>
      
      <div class="mt-8">
        <button onclick="testTransition()" class="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700">
          Test Transition
        </button>
      </div>
    </div>
  </section>

  <script>
    class SimpleRotatingText {
      constructor() {
        this.phrases = [
          "Operating System", "Core Protocol", "Foundational Layer", "Trust Substrate",
          "Economic Engine", "Value Spectrum", "Collective Mind", "Global Brain",
          "Social Fabric", "Digital Mycelium", "Social Compass", "Human Roadmap"
        ];
        
        this.currentIndex = 0;
        this.element = document.getElementById('rotating-text');
        this.isAnimating = false;
        
        if (this.element) {
          this.init();
        }
      }
      
      init() {
        setTimeout(() => {
          this.startRotation();
        }, 3000);
      }
      
      startRotation() {
        setInterval(() => {
          if (!this.isAnimating) {
            this.typewriterTransition();
          }
        }, 4000);
      }
      
      typewriterTransition() {
        if (this.isAnimating) return;
        this.isAnimating = true;
        
        const currentText = this.element.textContent;
        let currentLength = currentText.length;
        
        // Erase current text
        const eraseInterval = setInterval(() => {
          if (currentLength > 0) {
            this.element.textContent = currentText.substring(0, currentLength - 1);
            currentLength--;
          } else {
            clearInterval(eraseInterval);
            
            // Start typing new text
            setTimeout(() => {
              this.currentIndex = (this.currentIndex + 1) % this.phrases.length;
              const newText = this.phrases[this.currentIndex];
              let newLength = 0;
              
              const typeInterval = setInterval(() => {
                if (newLength <= newText.length) {
                  this.element.textContent = newText.substring(0, newLength);
                  newLength++;
                } else {
                  clearInterval(typeInterval);
                  this.isAnimating = false;
                }
              }, 50);
              
            }, 200);
          }
        }, 30);
      }
    }

    // Initialize
    const rotatingTextInstance = new SimpleRotatingText();
    
    // Test function
    function testTransition() {
      if (rotatingTextInstance && !rotatingTextInstance.isAnimating) {
        rotatingTextInstance.typewriterTransition();
      }
    }
  </script>
</body>
</html>